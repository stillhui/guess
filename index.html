<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no" />
	<title>guess number</title>
	<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
	<script>
		$(function(){
			$("#i3").on("click",function(){window.location.reload();})
			$("#i1").focus();
		    var s = false;
			$("#i1").on("keyup",function(){
				$("#i1").focus();
				$("#s1").remove();
				$("#s2").remove();
				s = isNaN($(this).val())&&$(this).after("<span id='s1' style='color: red;'>请输入数字！</span>")||(parseInt($(this).val())<0 || parseInt($(this).val())>=100)&&$(this).after("<span id='s2' style='color: red;'>请输入0-99之间的数字</span>");
				s=!s;
			})
			var number = Math.floor(Math.random()*100);
			var i = 1;
			$("#i2").on("click",()=>{
				if(i>5){
					$("#p1").html("<span style='color: red;'>挑战结束,您失败了！正确数字为：<b style='color:green;'>"+number+"</b></span>");
					$("#i3").css("display","inline-block");
					return false;
				}
				if(s==false){return false;}
				var a = $("#i1").val();
				if(!a){return false;};
				$("#i1").val("").focus();
				$("#p1").html(parseInt(a)<number&&"太<span style='color: red;'>小</span>了"||parseInt(a)>number&&"太<span style='color: red;'>大</span>了"||parseInt(a)===number&&"<span style='color: green;'>太棒了，猜对了666~</span>");
				$("#p2").append("第"+i+++"次: "+a+" "+$("#p1").html()+"<br/>");
				if(parseInt(a)===number){
					$("#p1").html("<span style='color: green;'>挑战成功,恭喜恭喜！</span>");
					$("#i3").css("display","inline-block");
				}
			})
			$(document).keyup(function (e) {//捕获文档对象的按键弹起事件  
			    if (e.keyCode == 13) {//按键信息对象以参数的形式传递进来了  
			        //此处编写用户敲回车后的代码  
			        $("#i2").click();
			    }  
			});  
		})
	</script>
</head>
<body>
	<p>一个可以猜数字的游戏，它会在1~100以内随机选择一个数, 然后让玩家挑战在5轮以内猜出这个数字，每一轮都要告诉玩家正确或者错误， 如果出错了，则告诉他数字是低了还是高了，并且还要告诉玩家之前猜的数字是什么。 一旦玩家猜测正确，或者他们用完了回合，游戏将结束。 游戏结束后，可以让玩家选择再次开始。</p>
	<input id="i1" type="text" placeholder="请猜一个 0-99 之间的数字" name=""><br/>
	<input id="i2" type="button" value="提交" name=""><input style="display: none;" id="i3" type="button" value="重置" name="">
	<p id="p1"></p>
	<p id="p2"></p>
</body>
</html>